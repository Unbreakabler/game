{"version":3,"file":"mines.svelte.js","sources":["../../../../src/app/mines.svelte"],"sourcesContent":["<script lang='ts'>\n  /**\n   * Each mine is made of few \"components\".\n   * 1. The mine itselfs which creates resources on a timer, this timer can be upgraded to be reduced.\n   * 2. The resource counter, which tracks the amount of the resource that is owned.\n   * 3. The UI to upgrade the mine using gold gained from the TD (currently gained in the farm)\n  */\n  import MineComponent from \"../components/mine.svelte\";\n  import { GameModel, gameModel } from \"../gamelogic/gamemodel\";\n  import type { Mine } from \"../gamelogic/village/mine\";\n\n  let gameModelInstance: GameModel;\n  gameModel.subscribe((m) => (gameModelInstance = m));\n\n  let mines: Mine[];\n  $: mines = Array.from(gameModelInstance.mines.values());\n\n  let buy_index = 0;\n  const buy_values = [1, 5, 10, 25];\n  $: purchase_quantity = buy_values[buy_index % buy_values.length]\n\n</script>\n\n<button on:click={() => buy_index++}>BUY {purchase_quantity}</button>\n{#each mines as mine}\n  {#if mine.areRequirementsMet(gameModelInstance.achievables)}\n    <MineComponent {mine} purchase_quantity={purchase_quantity} />\n  {:else}\n    <div>\n      {#each mine.requirements as r}\n        Requires {gameModelInstance.achievables.get(r.achievable_name)?.getDisplayName()} level {r.level_required}\n      {/each}\n    </div>\n  {/if}\n{/each}\n\n<style>\n  button {\n    /* width: 10rem; */\n    margin: 5px;\n    padding: 5px 15px;\n    font-size: 30px;\n    color: #fff;\n    background-color: rgb(95, 95, 95);\n    border: 3px solid rgb(184, 184, 184);\n  }\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;6BA6Ba,GAAI,IAAC,YAAY;;;kCAAtB,MAAI;;;;;;;;;;;;;;;;;;;;;;;;;4BAAC,GAAI,IAAC,YAAY;;;iCAAtB,MAAI;;;;;;;;;;;;;;;;sCAAJ,MAAI;;;;;;;;;;;;;;;;;;;;6CAHiC,GAAiB;;;;;;;;;;;;;;;wGAAjB,GAAiB;;;;;;;;;;;;;;;;;;;;;sCAI5C,GAAiB,IAAC,WAAW,CAAC,GAAG,OAAC,GAAC,IAAC,eAAe,GAAG,cAAc;;;sBAAW,GAAC,IAAC,cAAc;;;;;;;;;;;;;;;;;gGAA/F,GAAiB,IAAC,WAAW,CAAC,GAAG,OAAC,GAAC,IAAC,eAAe,GAAG,cAAc;6DAAW,GAAC,IAAC,cAAc;;;;;;;;;;;;;;;;;;;;;;mEAL1G,GAAI,IAAC,kBAAkB,uBAAC,GAAiB,IAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BADrD,GAAK;;;gCAAV,MAAI;;;;;;;;;;;;mCADoC,GAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uFAAjB,GAAiB;;;2BACpD,GAAK;;;+BAAV,MAAI;;;;;;;;;;;;;;;;wBAAJ,MAAI;;;;;;;;;;kCAAJ,MAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAbA,iBAA4B;CAChC,SAAS,CAAC,SAAS,CAAE,CAAC,oBAAM,iBAAiB,GAAG,CAAC;KAE7C,KAAa;KAGb,SAAS,GAAG,CAAC;OACX,UAAU,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;6CAKV,SAAS;;;;oBAR5B,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM;;;;oBAIjD,iBAAiB,GAAG,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,MAAM;;;;;;;;;;;;;;;;;"}