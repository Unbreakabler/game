import { SvelteComponent, init, safe_not_equal, element, space, text, claim_element, children, detach, claim_space, claim_text, attr, insert, append, listen, noop, onMount, binding_callbacks } from '../../node_modules/svelte/internal/index.mjs.js';
import '../../node_modules/phaser/dist/phaser.js';
import { count } from '../gamelogic/store.js';
import Main from '../scenes/main.js';

/* src/app/game.svelte generated by Svelte v3.32.1 */

function create_fragment(ctx) {
	let canvas_1;
	let t0;
	let button;
	let t1;
	let mounted;
	let dispose;

	return {
		c() {
			canvas_1 = element("canvas");
			t0 = space();
			button = element("button");
			t1 = text("Increment");
			this.h();
		},
		l(nodes) {
			canvas_1 = claim_element(nodes, "CANVAS", { id: true });
			children(canvas_1).forEach(detach);
			t0 = claim_space(nodes);
			button = claim_element(nodes, "BUTTON", {});
			var button_nodes = children(button);
			t1 = claim_text(button_nodes, "Increment");
			button_nodes.forEach(detach);
			this.h();
		},
		h() {
			attr(canvas_1, "id", "game-container");
		},
		m(target, anchor) {
			insert(target, canvas_1, anchor);
			/*canvas_1_binding*/ ctx[1](canvas_1);
			insert(target, t0, anchor);
			insert(target, button, anchor);
			append(button, t1);

			if (!mounted) {
				dispose = listen(button, "click", count.increment);
				mounted = true;
			}
		},
		p: noop,
		i: noop,
		o: noop,
		d(detaching) {
			if (detaching) detach(canvas_1);
			/*canvas_1_binding*/ ctx[1](null);
			if (detaching) detach(t0);
			if (detaching) detach(button);
			mounted = false;
			dispose();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let canvas;

	onMount(() => {
		const config = {
			type: Phaser.CANVAS,
			width: 800,
			height: 600,
			canvas,
			scene: Main
		};

		new Phaser.Game(config);
	});

	function canvas_1_binding($$value) {
		binding_callbacks[$$value ? "unshift" : "push"](() => {
			canvas = $$value;
			$$invalidate(0, canvas);
		});
	}

	return [canvas, canvas_1_binding];
}

class Game extends SvelteComponent {
	constructor(options) {
		super();
		init(this, options, instance, create_fragment, safe_not_equal, {});
	}
}

export default Game;
//# sourceMappingURL=game.svelte.js.map
