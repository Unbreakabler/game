{"version":3,"file":"village_building.svelte.js","sources":["../../../../src/components/village_building.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import Button from \"smelte/src/components/Button\";\n  import Card from \"smelte/src/components/Card\";\n  import { gameModel, GameModel, updateGameModel } from \"../gamelogic/gamemodel\";\n  import type { VillageBuilding } from \"../gamelogic/village/villagebuilding\";\n\n  export let building: VillageBuilding;\n\n  $: subheader = `Lv. ${building.level}`;\n\n  export let selected: unknown;\n\n  let gameModelInstance: GameModel;\n  gameModel.subscribe((m) => (gameModelInstance = m));\n\n  function upgrade(building: VillageBuilding) {\n    building.upgrade(gameModelInstance.wallet);\n    updateGameModel();\n  }\n\n  $: display_name = building.getDisplayName();\n  $: can_afford = building.canAffordNextUpgrade(gameModelInstance.wallet);\n  $: cost = building.getUpgradeMoneyCostAsString();\n  $: if (Number.isFinite(cost)) {\n    cost = `Cost to upgrade: ${cost}`;\n  }\n</script>\n\n<div class=\"my-card\">\n  <Card.Card class=\"bg-white mt-5 min-w-max\">\n    <div slot=\"title\"><Card.Title title={display_name} {subheader} /></div>\n    <div slot=\"text\" class=\"pb-0 pt-0 p-5\">{cost}</div>\n    <div slot=\"actions\">\n      <div class=\"p-2 whitespace-nowrap\">\n        <Button\n          text\n          disabled={building.level == 0}\n          on:click={() => {\n            selected = building.short_name;\n          }}>Visit</Button\n        >\n        <Button disabled={!can_afford} text on:click={() => upgrade(building)}>Upgrade</Button>\n      </div>\n    </div>\n  </Card.Card>\n</div>\n\n<style>\n  .my-card {\n    flex-basis: 50%;\n    display: inline-flex;\n    justify-content: center;\n  }\n  @media only screen and (min-width: 1200px) and (max-width: 1600px) {\n    .my-card {\n      flex-basis: 25%;\n    }\n  }\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;4BA8ByC,GAAY;;;;;;;;;;;;;;;;;;gFAAZ,GAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBACT,GAAI;;;;;;;;;gDAAJ,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2BAK5B,GAAQ,IAAC,KAAK,IAAI,CAAC;;;;;;;;;;8BAKZ,GAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uEALjB,GAAQ,IAAC,KAAK,IAAI,CAAC;;;;;;;;6EAKZ,GAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAnCxB,QAAyB;OAIzB,QAAiB;KAExB,iBAA4B;CAChC,SAAS,CAAC,SAAS,CAAE,CAAC,oBAAM,iBAAiB,GAAG,CAAC;;UAExC,OAAO,CAAC,QAAyB;EACxC,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC,MAAM;EACzC,eAAe;;;;kBAqBP,QAAQ,GAAG,QAAQ,CAAC,UAAU;;;+BAGkB,OAAO,CAAC,QAAQ;;;;;;;;;oBAjCvE,SAAS,UAAU,QAAQ,CAAC,KAAK;;;;oBAYjC,YAAY,GAAG,QAAQ,CAAC,cAAc;;;;oBACtC,UAAU,GAAG,QAAQ,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,MAAM;;;;oBACnE,IAAI,GAAG,QAAQ,CAAC,2BAA2B;;;;QACvC,MAAM,CAAC,QAAQ,CAAC,IAAI;oBACzB,IAAI,uBAAuB,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}