{"version":3,"file":"game.svelte.js","sources":["../../../../src/app/game.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import \"phaser\";\n  import { onMount } from \"svelte\";\n  import { GameModel, gameModel } from \"../gamelogic/gamemodel\";\nimport type { TowerType } from \"../gamelogic/td/tower_defense\";\n  import Main from \"../scenes/main\";\n  import TD from \"../scenes/td\";\n  let canvas: HTMLCanvasElement, game: any;\n\n  let gameModelInstance: GameModel;\n  gameModel.subscribe((m) => (gameModelInstance = m));\n\n  onMount(() => {\n    const config: Phaser.Types.Core.GameConfig = {\n      type: Phaser.CANVAS,\n      width: 800,\n      height: 600,\n      physics: {\n        default: 'arcade'\n      },\n      canvas: canvas,\n      scene: [\n        TD,\n        Main,\n      ]\n    };\n\n    game = new Phaser.Game(config);\n  });\n\n  const toggleTowerSelection = (tower_type: TowerType) => {\n    if (gameModelInstance.tower_defense.selection == tower_type) {\n      gameModelInstance.tower_defense.selection = null\n    } else {\n      gameModelInstance.tower_defense.selectForPlacement(tower_type);\n    }\n  }\n</script>\n\n<div>\n  <canvas bind:this={canvas} id=\"game-container\" />\n  <button on:click={() => toggleTowerSelection('basic')}>Tower</button>\n</div>\n\n<style>\n  canvas {\n    width: 800px;\n    height: 600px;\n  }\n  div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAOM,MAAyB;KAEzB,iBAA4B;CAChC,SAAS,CAAC,SAAS,CAAE,CAAC,IAAM,iBAAiB,GAAG,CAAC;;CAEjD,OAAO;QACC,MAAM;GACV,IAAI,EAAE,MAAM,CAAC,MAAM;GACnB,KAAK,EAAE,GAAG;GACV,MAAM,EAAE,GAAG;GACX,OAAO,IACL,OAAO,EAAE,QAAA;GAEH,MAAM;GACd,KAAK,GACH,EAAE,EACF,IAAI;;;MAIG,MAAM,CAAC,IAAI,CAAC,MAAM;;;OAGzB,oBAAoB,GAAI,UAAqB;MAC7C,iBAAiB,CAAC,aAAa,CAAC,SAAS,IAAI,UAAU;GACzD,iBAAiB,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI;;GAEhD,iBAAiB,CAAC,aAAa,CAAC,kBAAkB,CAAC,UAAU;;;;;;GAM9C,MAAM;;;;;6BACD,oBAAoB,CAAC,OAAO;;;;;;;;;;;;;;"}