{"version":3,"file":"main.js","sources":["../../../../src/scenes/main.ts"],"sourcesContent":["import \"phaser\";\n\n// import { count } from \"../gamelogic/store\";\n// import { GameModel } from ''\nimport { gameModel } from \"../gamelogic/gamemodel\";\nimport { svelte_game_loop } from \"../gamelogic/gameloop\";\n\nexport default class Main extends Phaser.Scene {\n  public constructor() {\n    super(\"main\");\n  }\n\n  public create(): void {\n    const scoreboard: Phaser.GameObjects.Text = this.add.text(10, 10, \"\", {\n      font: \"64px Courier\",\n      backgroundColor: \"#00ff00\",\n    });\n\n    const unsubscribe_store = gameModel.subscribe((model) => {\n      scoreboard.setText([\"Count: \" + model.saveData.money]);\n    });\n\n    const inc_button = this.add.text(10, 110, \"\", {\n      font: \"64px Courier\",\n      backgroundColor: \"#00ff00\",\n    });\n    inc_button.setInteractive();\n    inc_button.setText([\"Increment\"]);\n    // GAME LOOP INTEGRATION TO SVELTE\n\n    this.game.events.on(\"step\", function (time: number, delta_t: number) {\n      svelte_game_loop(time, delta_t);\n    });\n  }\n}\n"],"names":[],"mappings":";;;;MAOqB,IAAK,SAAQ,MAAM,CAAC,KAAK;IAC5C;QACE,KAAK,CAAC,MAAM,CAAC,CAAC;KACf;IAEM,MAAM;QACX,MAAM,UAAU,GAA4B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;YACpE,IAAI,EAAE,cAAc;YACpB,eAAe,EAAE,SAAS;SAC3B,CAAC,CAAC;QAEuB,SAAS,CAAC,SAAS,CAAC,CAAC,KAAK;YAClD,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;SACxD,EAAE;QAEH,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;YAC5C,IAAI,EAAE,cAAc;YACpB,eAAe,EAAE,SAAS;SAC3B,CAAC,CAAC;QACH,UAAU,CAAC,cAAc,EAAE,CAAC;QAC5B,UAAU,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;;QAGlC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,IAAY,EAAE,OAAe;YACjE,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;SACjC,CAAC,CAAC;KACJ;;;;;"}