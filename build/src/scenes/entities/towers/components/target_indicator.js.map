{"version":3,"file":"target_indicator.js","sources":["../../../../../../../src/scenes/entities/towers/components/target_indicator.ts"],"sourcesContent":["import type TD from \"../../../td\";\nimport type Tower from \"../tower\"\n\nexport default () => {\n  return {\n    type: 'target_indicator',\n    onInit: (parent: Tower, td_scene: TD, x: number, y:number) => {\n      if (!parent.targeting_indicator) {\n        parent.targeting_indicator = parent.td_scene.add.circle(parent.x, parent.y, parent.width, 0xff0000)\n        parent.targeting_indicator.setDepth(1);\n        parent.targeting_indicator.setStrokeStyle(2, 0xffffff)\n        parent.targeting_indicator.setAlpha(0.4)\n      }\n    },\n    onUpdate: (parent: Tower, time: number, delta: number) => {\n      if (!parent.target || parent.selection !== 'selected') {\n        parent.targeting_indicator?.setVisible(false);\n        return;\n      }\n\n      if (parent.targeting_indicator) {\n        parent.targeting_indicator.setVisible(true);\n        parent.targeting_indicator.setPosition(parent.target.x, parent.target.y);\n        parent.targeting_indicator.displayWidth = parent.target.height * 2;\n        parent.targeting_indicator.displayHeight = parent.target.height * 2;\n      }\n    }\n  }\n}"],"names":[],"mappings":"AAGA,uBAAe;IACb,OAAO;QACL,IAAI,EAAE,kBAAkB;QACxB,MAAM,EAAE,CAAC,MAAa,EAAE,QAAY,EAAE,CAAS,EAAE,CAAQ;YACvD,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;gBAC/B,MAAM,CAAC,mBAAmB,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;gBACnG,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvC,MAAM,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAA;gBACtD,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;aACzC;SACF;QACD,QAAQ,EAAE,CAAC,MAAa,EAAE,IAAY,EAAE,KAAa;YACnD,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS,KAAK,UAAU,EAAE;gBACrD,MAAM,CAAC,mBAAmB,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;gBAC9C,OAAO;aACR;YAED,IAAI,MAAM,CAAC,mBAAmB,EAAE;gBAC9B,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC5C,MAAM,CAAC,mBAAmB,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACzE,MAAM,CAAC,mBAAmB,CAAC,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;gBACnE,MAAM,CAAC,mBAAmB,CAAC,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;aACrE;SACF;KACF,CAAA;AACH,CAAC;;;;"}