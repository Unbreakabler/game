{"version":3,"file":"game.svelte.js","sources":["../../../../src/app/game.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import \"phaser\";\n  import { onMount } from \"svelte\";\n  import SlotControls from \"../components/slot_controls.svelte\";\n  import TowerDetails from \"../components/tower_details.svelte\";\n  import Menu from '../components/menu.svelte';\n  import { GameModel, gameModel } from \"../gamelogic/gamemodel\";\n  import Main from \"../scenes/main\";\n  import TD from \"../scenes/td\";\n  import WaveIndicator from '../components/wave_indicator.svelte'\n  import { OutlinePipeline } from '../plugins/outline'\n  import Resources from \"../components/resources.svelte\";\n  import WaveStatus from \"../components/wave_status.svelte\";\n\n  let canvas: HTMLCanvasElement, game: any;\n\n  let gameModelInstance: GameModel;\n  gameModel.subscribe((m) => (gameModelInstance = m));\n\n  onMount(() => {\n    const config: Phaser.Types.Core.GameConfig = {\n      type: Phaser.WEBGL,\n      width: 1920,\n      height: 1080,\n      scale: {\n        parent: 'parent',\n        mode: Phaser.Scale.FIT,\n        autoCenter: Phaser.Scale.NO_CENTER,\n      },\n      physics: {\n        default: \"arcade\",\n        arcade: {\n          debug: false\n        }\n      },\n      canvas: canvas,\n      scene: [TD, Main],\n      pipeline: [OutlinePipeline],\n    };\n\n    game = new Phaser.Game(config);\n  });\n\n</script>\n\n<div class=\"main\">\n  <div class=\"indicator\">\n    <WaveIndicator />\n  </div>\n  <div class=\"parent\" id=\"parent\">\n    <canvas bind:this={canvas} id=\"game-container\" />\n    <div class=\"resources\">\n      <WaveStatus />\n      <Resources />\n    </div>\n    <div class=\"details\">\n      <TowerDetails />\n    </div>\n    <div class=\"inventory\">\n      <div class=\"column\">\n        <SlotControls />\n      </div>\n    </div>\n  </div>\n  <div class=\"menu\">\n    <Menu />\n  </div>\n</div>\n\n<style lang='scss'>\n  .main {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-columns: auto minmax(0, 1fr);\n    grid-template-rows: minmax(0, 1fr) minmax(100px, 0.5fr);\n    grid-template-areas: \n      \"indicator parent\"\n      \"menu parent\";\n  }\n  .indicator {\n    display: flex;\n    grid-area: indicator;\n    overflow-y: hidden;\n  }\n  .parent {\n    grid-area: parent;\n    position: relative;\n  }\n  .inventory {\n    grid-area: inventory;\n    position: absolute;\n    bottom: 0px;\n    left: 0px;\n  }\n  .menu {\n    display: flex;\n    grid-area: menu;\n  }\n  canvas {\n    z-index: -1;\n  }\n  .resources {\n    display: flex;\n    flex-direction: row;\n    position: absolute;\n    right: 250px;\n    top: 0px;\n    align-items: center;\n    color: black;\n    -webkit-text-fill-color: white; /* Will override color (regardless of order) */\n    -webkit-text-stroke-width: 1px;\n    -webkit-text-stroke-color: black;\n    font-weight: 900;\n    font-size: 24px;\n    font-family: 'Courier New', Courier, monospace;\n  }\n  .details {\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAcM,MAAyB;CAG7B,SAAS,CAAC,SAAS,CAAE,CAAC,IAA0B,CAAC;;CAEjD,OAAO;QACC,MAAM;GACV,IAAI,EAAE,MAAM,CAAC,KAAK;GAClB,KAAK,EAAE,IAAI;GACX,MAAM,EAAE,IAAI;GACZ,KAAK;IACH,MAAM,EAAE,QAAQ;IAChB,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG;IACtB,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS;;GAEpC,OAAO;IACL,OAAO,EAAE,QAAQ;IACjB,MAAM,IACJ,KAAK,EAAE,KAAA;;GAGH,MAAM;GACd,KAAK,GAAG,EAAE,EAAE,IAAI;GAChB,QAAQ,GAAG,eAAe;;;MAGjB,MAAM,CAAC,IAAI,CAAC,MAAM;;;;;GAUV,MAAM;;;;;;;;;;;;;;;;;;"}