{"version":3,"file":"job_base.svelte.js","sources":["../../../../src/components/job_base.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { gameModel, GameModel } from \"../gamelogic/gamemodel\";\n  import type { Job } from \"../gamelogic/jobs\";\n  import { formatNumber } from \"../gamelogic/utils\";\n\n  import ProgressBar from \"./progress_bar.svelte\";\n\n  export let job: Job;\n\n  let gameModelInstance: GameModel;\n  gameModel.subscribe((m) => (gameModelInstance = m));\n\n  $: game_model_job = gameModelInstance.saveData.jobs[job.id];\n\n  let current_exp = 0;\n  let max_level_reached = 0;\n  let total_exp_for_level = 0;\n  let current_income = 0;\n  let current_level = 0;\n  $: if (game_model_job) {\n    current_level = game_model_job.current_level;\n    current_exp = game_model_job.current_exp;\n    max_level_reached = game_model_job.max_level_reached;\n    // move this calculations into functions\n    total_exp_for_level = job.getTotalExpForLevel(job.base_exp, job.multiplier, current_level);\n    current_income = job.base_income * Math.pow(job.multiplier, current_level);\n  }\n</script>\n\n<row>\n  <div><ProgressBar current={current_exp} total={total_exp_for_level} name={job.name} /></div>\n  <div>{current_level}</div>\n  <div>{formatNumber(current_income, 2)}</div>\n  <div>{formatNumber(total_exp_for_level - current_exp, 2)}</div>\n  <div>{max_level_reached}</div>\n</row>\n\n<style>\n  row {\n    display: flex;\n  }\n  div {\n    flex: 1;\n  }\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;gBAgCQ,YAAY,oBAAC,GAAc,KAAE,CAAC;;;;gBAC9B,YAAY,yBAAC,GAAmB,sBAAG,GAAW,KAAE,CAAC;;;;;;;;;6BAH5B,GAAW;mCAAS,GAAmB;kBAAQ,GAAG,IAAC,IAAI;;;;;;;;;;;+BAC5E,GAAa;;;;;;;;;mCAGb,GAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;gFAJI,GAAW;+FAAS,GAAmB;6DAAQ,GAAG,IAAC,IAAI;;+EAC5E,GAAa;+EACb,YAAY,oBAAC,GAAc,KAAE,CAAC;iGAC9B,YAAY,yBAAC,GAAmB,sBAAG,GAAW,KAAE,CAAC;uFACjD,GAAiB;;;;;;;;;;;;;;;;;;;;;OA3BZ,GAAQ;KAEf,iBAA4B;CAChC,SAAS,CAAC,SAAS,CAAE,CAAC,oBAAM,iBAAiB,GAAG,CAAC;KAI7C,WAAW,GAAG,CAAC;KACf,iBAAiB,GAAG,CAAC;KACrB,mBAAmB,GAAG,CAAC;KACvB,cAAc,GAAG,CAAC;KAClB,aAAa,GAAG,CAAC;;;;;;;;oBANlB,cAAc,GAAG,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;;;;QAOnD,cAAc;oBACnB,aAAa,GAAG,cAAc,CAAC,aAAa;oBAC5C,WAAW,GAAG,cAAc,CAAC,WAAW;oBACxC,iBAAiB,GAAG,cAAc,CAAC,iBAAiB;;;oBAEpD,mBAAmB,GAAG,GAAG,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAU,EAAE,aAAa;;oBACzF,cAAc,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;"}