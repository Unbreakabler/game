{"version":3,"file":"wave_indicator.svelte.js","sources":["../../../../src/components/wave_indicator.svelte"],"sourcesContent":["<script lang='ts'>\n  import { GameModel, gameModel } from \"../gamelogic/gamemodel\";\n  import { ENEMY_MODIFIERS, EnemyType } from \"../gamelogic/td/stats_enemy_modifiers\";\n  import type { ModifierId } from \"../gamelogic/td/stats_enemy_modifiers\";\n\n  let gameModelInstance: GameModel;\n  gameModel.subscribe((m) => (gameModelInstance = m));\n\n  $: waves = [...gameModelInstance.tower_defense.waves];\n  $: if (waves) waves.splice(0, 1)\n  $: current_wave = gameModelInstance.tower_defense.getCurrentWave();\n  $: current_enemy_image = `static/${EnemyType[current_wave.enemy_type]}.png`\n\n  const getMod = (mod_id: string) => {\n    return ENEMY_MODIFIERS[mod_id as ModifierId]\n  }\n\n\n</script>\n\n<div class=\"main\">\n  Current wave:\n  <div class=\"wave\">\n    <div class=\"wave_type wave_{current_wave.wave_type}\">\n      <div class='enemy' style=\"background-image: url({current_enemy_image})\" /> x {current_wave.mob_count}\n    </div>\n    {#if current_wave.modifier_ids.length}\n      <span class=\"modifiers\">\n        {#each current_wave.modifier_ids as mod_id}\n          {getMod(mod_id)?.name} \n        {/each}\n      </span>\n    {/if}\n    <div>\n      <span class=\"modifiers\">wave difficulty: {Math.floor(current_wave.wave_difficulty)}</span>\n    </div>\n  </div>\n  Upcoming waves:\n  <div class=\"indicator\">\n    {#each waves as wave}\n      <div class=\"wave\">\n        <div class=\"wave_type wave_{wave.wave_type}\">\n         <div class='enemy' style=\"background-image: url({`static/${EnemyType[wave.enemy_type]}.png`})\" /> x {wave.mob_count}\n        </div>\n        {#if wave.modifier_ids.length}\n          <span class=\"modifiers\">\n            {#each wave.modifier_ids as mod_id}\n              {getMod(mod_id)?.name} \n            {/each}\n          </span>\n        {/if}\n        <div>\n          <span class=\"modifiers\">wave difficulty: {Math.floor(wave.wave_difficulty)}</span>\n        </div>\n      </div>\n    {/each}\n  </div>\n</div>\n\n<style>\n  .main {\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    width: 200px;\n  }\n  .indicator {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow-y: scroll;\n    overflow-x: hidden;\n  }\n  .wave_type {\n    display: flex;\n  }\n  .wave {\n    background: rgba(202, 202, 202, 0.521);\n    padding: 5px;\n    margin: 5px;\n  }\n  .wave_normal {\n    color: #fff;\n  }\n  .wave_magic {\n    color: blue;\n  }\n  .wave_rare {\n    color: yellow;\n  }\n\n  .enemy {\n    display: inline-block;\n    width: 20px;\n    height: 32px;\n  }\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qCA4Be,GAAY,IAAC,YAAY;;;kCAA9B,MAAI;;;;;;;;;;;;;;;;;;;;;;;oCAAC,GAAY,IAAC,YAAY;;;iCAA9B,MAAI;;;;;;;;;;;;;;;;sCAAJ,MAAI;;;;;;;;;;;;0BACH,GAAM,eAAC,GAAM,MAAG,IAAI;;;;;;;;;;;uEAApB,GAAM,eAAC,GAAM,MAAG,IAAI;;;;;;;;;;;6BAiBZ,GAAI,IAAC,YAAY;;;kCAAtB,MAAI;;;;;;;;;;;;;;;;;;;;;;;4BAAC,GAAI,IAAC,YAAY;;;iCAAtB,MAAI;;;;;;;;;;;;;;;;sCAAJ,MAAI;;;;;;;;;;;;0BACH,GAAM,eAAC,GAAM,MAAG,IAAI;;;;;;;;;;;gEAApB,GAAM,eAAC,GAAM,MAAG,IAAI;;;;;;;;;;;;;;yBAL2E,GAAI,IAAC,SAAS;;;;;;;;gBAUxE,IAAI,CAAC,KAAK,UAAC,GAAI,IAAC,eAAe;;;yBARtE,GAAI,IAAC,YAAY,CAAC,MAAM;;;;;;;;;;;;;;;;;;0DAF+B,SAAS,UAAC,GAAI,IAAC,UAAU;uEADzD,GAAI,IAAC,SAAS;;;;;;;;;;;;;;;;;;;;;2DACkB,SAAS,UAAC,GAAI,IAAC,UAAU;;;gEAAiB,GAAI,IAAC,SAAS;;oGADxF,GAAI,IAAC,SAAS;;;;gBAGrC,GAAI,IAAC,YAAY,CAAC,MAAM;;;;;;;;;;;;;uDAQe,IAAI,CAAC,KAAK,UAAC,GAAI,IAAC,eAAe;;;;;;;;;;;;;;;;iCA5BC,GAAY,IAAC,SAAS;;;;;;;;gBAU1D,IAAI,CAAC,KAAK,kBAAC,GAAY,IAAC,eAAe;;;;iCAR9E,GAAY,IAAC,YAAY,CAAC,MAAM;4BAa9B,GAAK;;;gCAAV,MAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;wEAf6C,GAAmB;+EAD1C,GAAY,IAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yEACC,GAAmB;;;+EAAU,GAAY,IAAC,SAAS;;mHAD1E,GAAY,IAAC,SAAS;;;;wBAG7C,GAAY,IAAC,YAAY,CAAC,MAAM;;;;;;;;;;;;;8DAQO,IAAI,CAAC,KAAK,kBAAC,GAAY,IAAC,eAAe;;;2BAK5E,GAAK;;;+BAAV,MAAI;;;;;;;;;;;;;;;;oCAAJ,MAAI;;;;;;;;;;;;;;;;;;KAlCJ,iBAA4B;CAChC,SAAS,CAAC,SAAS,CAAE,CAAC,oBAAM,iBAAiB,GAAG,CAAC;;OAO3C,MAAM,GAAI,MAAc;SACrB,eAAe,CAAC,MAAoB;;;;;oBAN1C,KAAK,OAAO,iBAAiB,CAAC,aAAa,CAAC,KAAK;;;;QAC7C,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;;;;oBAC5B,YAAY,GAAG,iBAAiB,CAAC,aAAa,CAAC,cAAc;;;;oBAC7D,mBAAmB,aAAa,SAAS,CAAC,YAAY,CAAC,UAAU;;;;;;;;;;;;;;;;;"}