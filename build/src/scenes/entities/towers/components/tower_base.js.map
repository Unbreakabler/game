{"version":3,"file":"tower_base.js","sources":["../../../../../../../src/scenes/entities/towers/components/tower_base.ts"],"sourcesContent":["import type { TowerBaseType } from \"../../../../gamelogic/td/tower_defense\";\nimport type TD from \"../../../td\";\nimport type Tower from \"../tower\";\nimport type { TowerComponent } from \"./component_interface\";\n\nconst BASE_DIMENSIONS: { [id in TowerBaseType]: { scale: number, width: number, height: number }} = {\n  'tower_base_1': {\n    scale: 0.7,\n    width: 128,\n    height: 128,\n  },\n  'tower_base_2': {\n    scale: 0.7,\n    width: 128,\n    height: 128,\n  },\n  'tower_base_3': {\n    scale: 0.7,\n    width: 128,\n    height: 128,\n  },\n  'tower_base_4': {\n    scale: 0.7,\n    width: 128,\n    height: 128,\n  }\n}\n\nexport default (\n  base_type: TowerBaseType = 'tower_base_1',\n) => {\n  const tower_component: TowerComponent = {\n    type: 'rotating_turret',\n    onInit: (parent: Tower, td_scene: TD, x: number, y:number) => {\n      // Setup sprites\n      if (!parent.static_sprites) {\n        parent.static_sprites = new Phaser.GameObjects.Container(td_scene, x, y);\n        parent.static_sprites.name = `${parent.tower_id}_static_sprites` // randomly generate this name?\n        parent.static_sprites.depth = 0;\n        td_scene.add.existing(parent.static_sprites);\n        parent.static_sprites.scale = BASE_DIMENSIONS[base_type].scale;\n        parent.width = BASE_DIMENSIONS[base_type].width;\n        parent.height = BASE_DIMENSIONS[base_type].height;\n      }\n\n      const base = new Phaser.GameObjects.Sprite(td_scene, 0, 0, base_type);\n      parent.static_sprites.add(base);\n    }\n  }\n  return tower_component;\n}"],"names":[],"mappings":"AAKA,MAAM,eAAe,GAA+E;IAClG,cAAc,EAAE;QACd,KAAK,EAAE,GAAG;QACV,KAAK,EAAE,GAAG;QACV,MAAM,EAAE,GAAG;KACZ;IACD,cAAc,EAAE;QACd,KAAK,EAAE,GAAG;QACV,KAAK,EAAE,GAAG;QACV,MAAM,EAAE,GAAG;KACZ;IACD,cAAc,EAAE;QACd,KAAK,EAAE,GAAG;QACV,KAAK,EAAE,GAAG;QACV,MAAM,EAAE,GAAG;KACZ;IACD,cAAc,EAAE;QACd,KAAK,EAAE,GAAG;QACV,KAAK,EAAE,GAAG;QACV,MAAM,EAAE,GAAG;KACZ;CACF,CAAA;AAED,iBAAe,CACb,YAA2B,cAAc;IAEzC,MAAM,eAAe,GAAmB;QACtC,IAAI,EAAE,iBAAiB;QACvB,MAAM,EAAE,CAAC,MAAa,EAAE,QAAY,EAAE,CAAS,EAAE,CAAQ;;YAEvD,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;gBAC1B,MAAM,CAAC,cAAc,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACzE,MAAM,CAAC,cAAc,CAAC,IAAI,GAAG,GAAG,MAAM,CAAC,QAAQ,iBAAiB,CAAA;gBAChE,MAAM,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC;gBAChC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gBAC7C,MAAM,CAAC,cAAc,CAAC,KAAK,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;gBAC/D,MAAM,CAAC,KAAK,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;gBAChD,MAAM,CAAC,MAAM,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC;aACnD;YAED,MAAM,IAAI,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;YACtE,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACjC;KACF,CAAA;IACD,OAAO,eAAe,CAAC;AACzB,CAAC;;;;"}